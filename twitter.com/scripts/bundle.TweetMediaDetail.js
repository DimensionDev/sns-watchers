;(window.webpackJsonp = window.webpackJsonp || []).push([
  [97],
  {
    NP4V: function (e, t, r) {
      'use strict'
      r('+KXO'), r('1t7P'), r('LW0h'), r('daRM'), r('jwue'), r('+oxZ'), r('FtHn')
      var n = r('KEM+'),
        o = r.n(n),
        a = r('ERkP'),
        c = r('Lsrn'),
        i = r('shC7'),
        l = r('k/Ka')
      function s(e, t) {
        var r = Object.keys(e)
        if (Object.getOwnPropertySymbols) {
          var n = Object.getOwnPropertySymbols(e)
          t &&
            (n = n.filter(function (t) {
              return Object.getOwnPropertyDescriptor(e, t).enumerable
            })),
            r.push.apply(r, n)
        }
        return r
      }
      function u(e) {
        for (var t = 1; t < arguments.length; t++) {
          var r = null != arguments[t] ? arguments[t] : {}
          t % 2
            ? s(Object(r), !0).forEach(function (t) {
                o()(e, t, r[t])
              })
            : Object.getOwnPropertyDescriptors
            ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
            : s(Object(r)).forEach(function (t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
              })
        }
        return e
      }
      var d = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
        return Object(l.a)(
          'svg',
          u(
            u({}, e),
            {},
            {
              accessibilityHidden: void 0 === e.accessibilityLabel,
              style: [c.a.root, e.style, i.a.getConstants().isRTL && c.a.iconRTL],
              viewBox: '0 0 24 24',
            },
          ),
          a.createElement(
            'g',
            null,
            a.createElement('path', {
              d: 'M4.656 12l8.72-8.72c.293-.293.293-.768 0-1.06s-.768-.294-1.06 0l-9.25 9.25c-.294.292-.294.767 0 1.06l9.25 9.25c.145.146.337.22.53.22s.383-.073.53-.22c.292-.293.292-.768 0-1.06L4.655 12z',
            }),
            a.createElement('path', {
              d: 'M12.465 12l8.72-8.72c.293-.293.293-.768 0-1.06s-.768-.294-1.06 0l-9.25 9.25c-.294.292-.294.767 0 1.06l9.25 9.25c.145.146.337.22.53.22s.383-.073.53-.22c.292-.293.292-.768 0-1.06L12.464 12z',
            }),
          ),
        )
      }
      ;(d.metadata = { width: 24, height: 24 }), (t.a = d)
    },
    iyiT: function (e, t, r) {
      'use strict'
      r.d(t, 'a', function () {
        return o
      }),
        r.d(t, 'b', function () {
          return a
        })
      var n = r('ZUOq'),
        o = n.a.columnWidths.secondary.normal,
        a = n.a.columnWidths.primary
    },
    mpWK: function (e, t, r) {
      'use strict'
      r('+KXO'), r('1t7P'), r('LW0h'), r('daRM'), r('jwue'), r('+oxZ'), r('FtHn')
      var n = r('KEM+'),
        o = r.n(n),
        a = r('ERkP'),
        c = r('Lsrn'),
        i = r('shC7'),
        l = r('k/Ka')
      function s(e, t) {
        var r = Object.keys(e)
        if (Object.getOwnPropertySymbols) {
          var n = Object.getOwnPropertySymbols(e)
          t &&
            (n = n.filter(function (t) {
              return Object.getOwnPropertyDescriptor(e, t).enumerable
            })),
            r.push.apply(r, n)
        }
        return r
      }
      function u(e) {
        for (var t = 1; t < arguments.length; t++) {
          var r = null != arguments[t] ? arguments[t] : {}
          t % 2
            ? s(Object(r), !0).forEach(function (t) {
                o()(e, t, r[t])
              })
            : Object.getOwnPropertyDescriptors
            ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
            : s(Object(r)).forEach(function (t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
              })
        }
        return e
      }
      var d = function () {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
        return Object(l.a)(
          'svg',
          u(
            u({}, e),
            {},
            {
              accessibilityHidden: void 0 === e.accessibilityLabel,
              style: [c.a.root, e.style, i.a.getConstants().isRTL && c.a.iconRTL],
              viewBox: '0 0 24 24',
            },
          ),
          a.createElement(
            'g',
            null,
            a.createElement('path', {
              d: 'M21.185 11.47l-9.25-9.25c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l8.72 8.72-8.72 8.72c-.294.294-.294.77 0 1.062.145.146.337.22.53.22s.383-.073.53-.22l9.25-9.25c.293-.295.293-.77 0-1.062z',
            }),
            a.createElement('path', {
              d: 'M13.376 11.47l-9.25-9.25c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l8.72 8.72-8.72 8.72c-.294.294-.294.77 0 1.062.146.145.337.218.53.218s.384-.073.53-.22l9.25-9.25c.293-.293.293-.767 0-1.06z',
            }),
          ),
        )
      }
      ;(d.metadata = { width: 24, height: 24 }), (t.a = d)
    },
    u1Qz: function (e, t, r) {
      'use strict'
      r.r(t),
        r.d(t, 'TweetMediaDetailScreen', function () {
          return Me
        })
      r('+KXO'), r('1t7P'), r('LW0h'), r('daRM'), r('jwue'), r('+oxZ'), r('FtHn')
      var n = r('KEM+'),
        o = r.n(n),
        a = r('ddV6'),
        c = r.n(a),
        i = (r('2G9S'), r('MvUL'), r('KqXw'), r('ERkP')),
        l = r('v6aA'),
        s = (r('WNMA'), r('Blm6'), r('zh9S')),
        u = r('H9MA'),
        d = r('XOJV'),
        f = r('rxPX'),
        p = r('0KEI'),
        m = r('P1r1'),
        v = function (e, t) {
          return t.match.params.screenName
        },
        w = function (e, t) {
          return t.match.params.statusId
        },
        h = function (e, t) {
          var r = t.match.params.index
          return parseInt(r, 10) - 1
        },
        b = function (e, t) {
          return d.a.selectFetchStatus(e, w(0, t))
        },
        y = function (e, t) {
          return e.location && e.location.state && e.location.state[t]
        },
        O = function (e, t) {
          return y(t, 'forwardPivotInfo')
        },
        g = function (e, t) {
          return y(t, 'promotedContent')
        },
        E = function (e, t) {
          return y(t, 'socialContext')
        },
        j = function (e, t) {
          return y(t, 'contextTweetId')
        },
        C = function (e, t) {
          var r = w(0, t),
            n = d.a.select(e, r)
          return (n && n.conversation_id_str) || void 0
        },
        x = Object(f.a)()
          .propsFromState(function () {
            return {
              fetchStatus: b,
              forwardPivotInfo: O,
              index: h,
              screenName: v,
              tweetId: w,
              tweet: d.a.createHydratedTweetSelector(w),
              promotedContent: g,
              dataSaver: u.c,
              socialContext: E,
              contextTweetId: j,
              rootTweet: d.a.createHydratedTweetSelector(C),
              showTweetMediaDetailDrawer: m.A,
            }
          })
          .propsFromActions(function () {
            return {
              createLocalApiErrorHandler: Object(p.createLocalApiErrorHandlerWithContextFactory)(
                'TWEET_MEDIA_DETAIL_SCREEN',
              ),
              fetchTweetIfNeeded: d.a.fetchOneIfNeeded,
              googleAnalyticsPageView: s.a,
              updateSettings: m.L,
            }
          })
          .withAnalytics({ page: 'tweet', section: 'media' }),
        P = (r('OZaJ'), r('VrFO')),
        T = r.n(P),
        I = r('Y9Ll'),
        M = r.n(I),
        S = r('1Pcy'),
        _ = r.n(S),
        D = r('5Yy7'),
        k = r.n(D),
        L = r('N+ot'),
        R = r.n(L),
        H = r('AuHH'),
        W = r.n(H),
        A = (r('uFXj'), r('ymux')),
        F = r('rkhm'),
        N = r('iyiT'),
        B = r('oQhu'),
        K = r('AUxQ'),
        X = r('rHpw'),
        z = r('yw4N')
      function V(e) {
        var t = (function () {
          if ('undefined' == typeof Reflect || !Reflect.construct) return !1
          if (Reflect.construct.sham) return !1
          if ('function' == typeof Proxy) return !0
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0
          } catch (e) {
            return !1
          }
        })()
        return function () {
          var r,
            n = W()(e)
          if (t) {
            var o = W()(this).constructor
            r = Reflect.construct(n, arguments, o)
          } else r = n.apply(this, arguments)
          return R()(this, r)
        }
      }
      var Z = (function (e) {
        k()(r, e)
        var t = V(r)
        function r() {
          var e
          T()(this, r)
          for (var n = arguments.length, a = new Array(n), c = 0; c < n; c++) a[c] = arguments[c]
          return (
            (e = t.call.apply(t, [this].concat(a))),
            o()(
              _()(e),
              '_getApiErrorHandlerMap',
              Object(B.a)(function (e) {
                return Object(F.a)(e)
              }),
            ),
            o()(
              _()(e),
              '_getModule',
              Object(B.a)(function (e, t) {
                return Object(A.a)({ focalTweetId: e, featureSwitches: t })
              }),
            ),
            e
          )
        }
        return (
          M()(r, [
            {
              key: 'render',
              value: function () {
                var e = this.props,
                  t = e.contextTweetId,
                  r = e.location,
                  n = e.promotedContent,
                  o = e.rootTweet,
                  a = e.screenName,
                  c = e.socialContext,
                  l = e.tweet,
                  s = e.tweetId,
                  u = this.context.featureSwitches,
                  d = { selectedTweetId: s }
                return i.createElement(
                  z.a,
                  { accessibilityExpanded: !0, style: U.root },
                  i.createElement(K.a, {
                    apiErrorHandlerMap: this._getApiErrorHandlerMap(a),
                    contextTweetId: t,
                    focalTweet: l,
                    focalTweetId: s,
                    location: r,
                    module: this._getModule(s, u),
                    promotedContent: n,
                    rootTweet: o,
                    selectedTweet: d,
                    socialContext: c,
                    withFocalTweetMedia: !1,
                  }),
                )
              },
            },
          ]),
          r
        )
      })(i.Component)
      o()(Z, 'contextType', l.a)
      var U = X.a.create(function (e) {
          return {
            root: {
              backgroundColor: e.colors.cellBackground,
              overflow: 'auto',
              width: N.a,
              borderLeftWidth: e.borderWidths.small,
              borderColor: e.colors.borderColor,
              borderStyle: 'solid',
            },
          }
        }),
        q = Z,
        J = r('v//M'),
        Q = r('W5XZ'),
        Y = r('3XMw'),
        G = r.n(Y),
        $ = r('tI3i'),
        ee = r.n($),
        te = r('2doW'),
        re = r('UPvq'),
        ne = r('VTxf'),
        oe = r('wiP2'),
        ae = r('Rp9C'),
        ce = r('xXop'),
        ie = r('lklz'),
        le = r('MWbm'),
        se = r('7N4s'),
        ue = r('0eWs'),
        de = r('/Ikv'),
        fe = r('mjJ+'),
        pe = r('/yvb'),
        me = r('rOXj'),
        ve = r('cHvH'),
        we = r('RCZO'),
        he = r('mpWK'),
        be = r('NP4V'),
        ye = r('ACHU')
      function Oe(e, t) {
        var r = Object.keys(e)
        if (Object.getOwnPropertySymbols) {
          var n = Object.getOwnPropertySymbols(e)
          t &&
            (n = n.filter(function (t) {
              return Object.getOwnPropertyDescriptor(e, t).enumerable
            })),
            r.push.apply(r, n)
        }
        return r
      }
      function ge(e) {
        for (var t = 1; t < arguments.length; t++) {
          var r = null != arguments[t] ? arguments[t] : {}
          t % 2
            ? Oe(Object(r), !0).forEach(function (t) {
                o()(e, t, r[t])
              })
            : Object.getOwnPropertyDescriptors
            ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
            : Oe(Object(r)).forEach(function (t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
              })
        }
        return e
      }
      var Ee = G.a.d132269b,
        je = G.a.dd657211,
        Ce = G.a.h63a5c3b,
        xe = G.a.f20b040d,
        Pe = G.a.f1d9930c,
        Te = G.a.a0e81a2e,
        Ie = function (e) {
          return e - N.a < N.b
        },
        Me = function (e) {
          var t = i.useContext(se.b).isModal,
            r = Object(we.h)(),
            n = r.handleMediaDetailZoomed,
            o = r.handleMediaItemTapped,
            a = r.hideButtons,
            s = i.useState(!1),
            u = c()(s, 2),
            d = u[0],
            f = u[1],
            p = i.useContext(l.a).featureSwitches,
            m = e.analytics,
            v = e.contextTweetId,
            w = e.createLocalApiErrorHandler,
            h = e.dataSaver,
            b = e.fetchStatus,
            y = e.fetchTweetIfNeeded,
            O = e.forwardPivotInfo,
            g = e.googleAnalyticsPageView,
            E = e.history,
            j = e.index,
            C = e.location,
            x = e.promotedContent,
            P = e.rootTweet,
            T = e.screenName,
            I = e.showTweetMediaDetailDrawer,
            M = e.socialContext,
            S = e.tweet,
            _ = e.tweetId,
            D = e.updateSettings,
            k = function () {
              var e = C.state
              if (e) {
                var t = e.mediaItems
                return t && 'index' in t && 'items' in t ? t : void 0
              }
            },
            L = function () {
              var e = k()
              return e ? e.index : j
            },
            R = function () {
              var e,
                t = k()
              if (t) return t.items
              if (S) {
                var r = null === (e = S.extended_entities) || void 0 === e ? void 0 : e.media
                if (r) return r
                if (S.card) {
                  var n = H()
                  if (n) return [n]
                }
              }
            },
            H = function () {
              if (null != S && S.card) {
                var e =
                    !0 ===
                    p.getValueWithoutScribeImpression(
                      'unified_cards_multi_destination_carousels_convert_to_single_card',
                    ),
                  t = {
                    tweetId: S.id_str,
                    tweetUserId: S.user.id_str,
                    tweetPermalink: S.permalink,
                    shouldConvertMDCtoSingleCard: e,
                  }
                ee()(void 0 !== S.card, 'tweet.card must be defined')
                var r = Object(ue.b)(S.card, t)
                if (r) {
                  var n = de.a.getImageEntityFromCard(r.card)
                  if (n) return de.a.convertImageEntityToPhoto(n)
                }
              }
            },
            W = function () {
              var e = L(),
                t = R()
              return t && t[e]
            },
            A = function () {
              return null != S && S.user ? '/'.concat(S.user.screen_name, '/status/').concat(S.id_str) : '/'
            },
            F = function (e) {
              var t = k()
              return t ? ge(ge({}, C.state), {}, { mediaItems: ge(ge({}, t), {}, { index: e }) }) : C.state
            },
            N = function (e) {
              return e && Ie(e) ? d : I
            },
            B = i.useCallback(
              function () {
                if (S && S.user && T.toLowerCase() !== S.user.screen_name.toLowerCase()) {
                  var e =
                    S && S.user
                      ? '/'
                          .concat(S.user.screen_name, '/status/')
                          .concat(S.id_str, '/photo/')
                          .concat(j + 1)
                      : null
                  e && E.replace(e)
                }
              },
              [E, j, T, S],
            ),
            K = i.useCallback(
              function () {
                if (S) {
                  var e = ae.a.getTweetItem(S)
                  g(m.contextualScribeNamespace), m.scribe({ action: 'show', data: { items: [e] } })
                }
              },
              [m, g, S],
            ),
            X = function () {
              var e = A()
              E.goBackThroughModals({ fallbackPath: e })
            },
            z = i.useCallback(
              function () {
                y(_).catch(w(Q.a))
              },
              [w, y, _],
            ),
            V = function (e) {
              return function () {
                e && Ie(e)
                  ? (m.scribe({ component: 'conversation_drawer', action: d ? 'collapse' : 'expand' }), f(!d))
                  : (m.scribe({ component: 'conversation_drawer', action: I ? 'collapse' : 'expand' }),
                    D({ showTweetMediaDetailDrawer: !I }))
              }
            },
            Z = function (e) {
              var t = L(),
                r = R()
              if (e !== t) {
                m.scribe({
                  component: 'gallery',
                  element: t < e ? 'next' : 'prev',
                  action: 'click',
                  data: { event_value: e + 1 },
                })
                var n = r && r[e]
                E.replace({ state: F(e), pathname: n && n.expanded_url })
              }
            },
            U = function (e) {
              return i.createElement(fe.a, { isFixed: !0, items: [{ link: A(), text: je }], onCloseRequested: e })
            },
            Y = function (e) {
              var r = W(),
                n = Object(we.b)(r),
                o = e && N(e)
              return t
                ? i.createElement(pe.a, {
                    accessibilityLabel: o ? xe : je,
                    dominantColor: n.rgb,
                    hoverLabel: { label: o ? Pe : Te },
                    icon: o ? i.createElement(he.a, null) : i.createElement(be.a, null),
                    onClick: V(e),
                    type: 'onMediaDominantColorFilled',
                  })
                : S && !t
                ? i.createElement(pe.a, {
                    accessibilityLabel: Ce,
                    dominantColor: r ? n.rgb : void 0,
                    icon: i.createElement(ye.a, null),
                    renderMenu: U,
                    type: r ? 'onMediaDominantColorFilled' : 'onMediaWhiteFilled',
                  })
                : void 0
            },
            G = function () {
              var e = L(),
                t = R()
              if (!t) return i.createElement(ne.a, null)
              var r = t[e],
                a = Object(we.b)(r).rgb
              return i.createElement(te.a, {
                dataSaver: h,
                dominantColor: a,
                mediaIndex: e,
                mediaItems: t,
                onDismiss: X,
                onMediaDetailZoomed: n,
                onMediaItemChanged: Z,
                onTap: o,
                promotedContent: x,
                videoId: 1 === t.length && S ? ie.b.forTweet(S.id_str) : void 0,
              })
            },
            $ = function (e) {
              var t = W(),
                r = Object(we.b)(t),
                n =
                  me.a.isTouchSupported() &&
                  (function () {
                    var e = L(),
                      t = R()
                    if (!t) return !1
                    var r = t[e]
                    return 'photo' === (null == r ? void 0 : r.type) || !1
                  })()
              return i.createElement(
                re.a,
                {
                  backgroundColor: r,
                  footerButtons: S
                    ? i.createElement(ce.a, {
                        actionSize: 'large',
                        activeColor: 'white',
                        allowDownvote: !0,
                        color: 'white',
                        forwardPivotInfo: S.softIntervention || O,
                        style: Se.actionsBar,
                        tweet: S,
                        withCount: !0,
                      })
                    : void 0,
                  hideButtons: a,
                  mediaItem: t,
                  onCloseButtonPress: X,
                  overlayFooter: n,
                  topRightButton: Y(e),
                },
                i.createElement(J.a, { accessibilityLabel: Ee, fetchStatus: b, onRequestRetry: z, render: G }),
              )
            },
            Oe = i.useRef(null)
          i.useEffect(
            function () {
              Oe.current !== _ && (z(), (Oe.current = _))
            },
            [z, _],
          )
          var Me = i.useRef(null)
          return (
            i.useEffect(
              function () {
                var e
                ;(null === (e = Me.current) || void 0 === e ? void 0 : e.id_str) !== (null == S ? void 0 : S.id_str) &&
                  (K(), (Me.current = S))
              },
              [K, S],
            ),
            i.useEffect(
              function () {
                B()
              },
              [B],
            ),
            i.createElement(
              oe.a.Configure,
              { headerless: !0 },
              t
                ? i.createElement(ve.a, null, function (e) {
                    var t = e.windowWidth
                    return i.createElement(
                      le.a,
                      { style: Se.container },
                      i.createElement(le.a, { style: Se.neighbor }, $(t)),
                      N(t)
                        ? i.createElement(q, {
                            contextTweetId: v,
                            location: C,
                            promotedContent: x,
                            rootTweet: P,
                            screenName: T,
                            socialContext: M,
                            tweet: S,
                            tweetId: _,
                          })
                        : null,
                    )
                  })
                : $(),
            )
          )
        },
        Se = X.a.create(function (e) {
          return {
            actionsBar: { height: e.spaces.space48, maxWidth: 'none', paddingHorizontal: e.spaces.space12 },
            container: {
              flexDirection: 'row',
              overflowX: 'hidden',
              overflowY: 'hidden',
              height: '100%',
              width: '100%',
              position: 'relative',
            },
            neighbor: { flexGrow: 1, flexShrink: 1 },
          }
        }),
        _e = x(Me)
      t.default = _e
    },
  },
])
//# sourceMappingURL=WIPED
